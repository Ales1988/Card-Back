# README

# Player

| Descripciòn                              | Metodo | Ruta                                   | Controller#Action       | Request                                              | params_query                                                                                            | ResponsePositiva    | ResponseNegativa                                                 |
| ---------------------------------------- | ------ | -------------------------------------- | ----------------------- | ---------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------------- | ---------------------------------------------------------------- |
| Muestra todo los jugadores registrados   | GET    | /players(.:format)                     | players#index           | http://127.0.0.1:3000/players                        | Ninguno                                                                                                 | {players: @players} | En el front no se mostra ni un jugador                           |
| Crea un nuevo jugador                    | POST   | /players(.:format)                     | players#create          | http://127.0.0.1:3000/players                        | En el body {"name": "Ale", "password": "ale"}                                                           | {player: @player}   | {message: @player.errors.dettails}                               |
| Muestra un solo jugador                  | GET    | /players/:id(.:format)                 | players#show            | http://127.0.0.1:3000/players/1                      | Ninguno, usa el Token en el Header                                                                      | {player: @player}   | {message: "Debe iniciar sesión con un usuario válido"}           |
| Login                                    | GET    | /players/:id/login(.:format)           | players#login           | http://127.0.0.1:3000/players/Ale/login?password=ale | En la url id (usa el nombre), password                                                                  | {player: @player}   | {message: "No existe el jugador o la contraseña es incorrecta."} |
| Permite a un jugador de cambiar password | PUT    | /players/:id/change_password(.:format) | players#change_password | http://127.0.0.1:3000//players/1/change_password     | En el body {"current_password": "algo", "new_password": "otro algo"} el player lo recupera con el token | player: @player     | {message: "La passoword ingresada no es corecta!"}               |

# Game

| Descripciòn                                                       | Metodo | Ruta                       | Controller#Action | Request                                                            | params_query                                                                      | ResponsePositiva | ResponseNegativa                                                                            |
| ----------------------------------------------------------------- | ------ | -------------------------- | ----------------- | ------------------------------------------------------------------ | --------------------------------------------------------------------------------- | ---------------- | ------------------------------------------------------------------------------------------- |
| Muestra todo los games o todos los games disponibles para el join | GET    | /games(.:format)           | games#index       | http://127.0.0.1:3000/games http://127.0.0.1:3000/games?search=nil | ninguno o search                                                                  | {games: @games}  | En el front no se mostra ni un game                                                         |
| Recupera un game                                                  | GET    | /games/:id(.:format)       | games#show        | http://127.0.0.1:3000/games/1                                      | En el url el id                                                                   | {game: @game}    | { message: "No esta #{params[:id]}"}                                                        |
| Crea un nuevo game                                                | POST   | /games(.:format)           | games#create      | http://127.0.0.1:3000/games                                        | En el body {"game_name": "partida 4"}, el player1_id lo recupera gracias el token | {game: @game}    | {message: @game.errors.details}                                                             |
| Join, un player se une a un game                                  | PUT    | /games/:id/join(.:format)  | games#join        | http://127.0.0.1:3000/games/1/join                                 | En el url el id del game, el player2_id lo recupero usando el token en el header  | {game: @game}    | {message: @game.errors.details}</br> {message: "Debe iniciar sesión con un usuario válido"} |
| Permite al jugador de sacar una carta                             | PUT    | /games/:id/draft(.:format) | games#draft       | http://127.0.0.1:3000/games/1/draft                                | En el url el id del game, el player lo identifico con el token                    | {game: @game}    | {message: "¡Ya tienes 3 cartas!"} </br>{{message: "¡Se acabó el juego!"}                    |
| Permite al jugador de poner una carta en juego en la mesa         | PUT    | /games/:id/play(.:format)  | games#play        | http://127.0.0.1:3000/games/1/play                                 | En la url la id del game, en el body el id de la carta jugada {"card_name": "q1"} | {game: @game}    | {message: "¡Ya has jugado una carta!"} </br>{message: "¡Ya has jugado una carta!"}          |
